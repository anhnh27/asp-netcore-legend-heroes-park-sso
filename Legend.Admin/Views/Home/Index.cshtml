@using Microsoft.AspNetCore.Authentication
@model IEnumerable<Legend.Admin.Models.UserViewModel>

@if (User.Identity.IsAuthenticated)
{
    <h2>Claims</h2>

    <dl>
        @foreach (var claim in User.Claims)
        {
            <dt>@claim.Type</dt>
            <dd>@claim.Value</dd>
        }
    </dl>

    <h2>Properties</h2>

    <dl>
        @foreach (var prop in (await Context.AuthenticateAsync()).Properties.Items)
        {
            <dt>@prop.Key</dt>
            <dd>@prop.Value</dd>
        }
    </dl>

}

<div class="table-users">
    <div class="header">Staff Management</div>

    <table cellspacing="0">
        <tr>
            <th>Picture</th>
            <th>Email</th>
            <th>Actions</th>
        </tr>

        @foreach (var user in Model)
        {
            <tr class="row-item">
                <td><img src="@user.Photo" alt="" /></td>
                <td>@user.Email</td>
                <td>
                    @using (Html.BeginForm("Deactive", "Home", new { userId = @user.UserId }, FormMethod.Post))
                    { 
                        <input type="hidden" id="userId" value="@user.UserId" />
                        <button class="btn-danger" type="submit">Deactive</button>
                    }
                </td>
            </tr>
        }
    </table>
    <div class="content_detail__pagination cdp" actpage="1">
        <a href="#!-1" class="cdp_i">prev</a>
        <a href="#!1" class="cdp_i">1</a>
        <a href="#!2" class="cdp_i">2</a>
        <a href="#!3" class="cdp_i">3</a>
        <a href="#!4" class="cdp_i">4</a>
        <a href="#!5" class="cdp_i">5</a>
        <a href="#!6" class="cdp_i">6</a>
        <a href="#!7" class="cdp_i">7</a>
        <a href="#!8" class="cdp_i">8</a>
        <a href="#!9" class="cdp_i">9</a>
        <a href="#!10" class="cdp_i">10</a>
        <a href="#!11" class="cdp_i">11</a>
        <a href="#!12" class="cdp_i">12</a>
        <a href="#!13" class="cdp_i">13</a>
        <a href="#!14" class="cdp_i">14</a>
        <a href="#!15" class="cdp_i">15</a>
        <a href="#!16" class="cdp_i">16</a>
        <a href="#!17" class="cdp_i">17</a>
        <a href="#!18" class="cdp_i">18</a>
        <a href="#!19" class="cdp_i">19</a>
        <a href="#!+1" class="cdp_i">next</a>
    </div>
</div>